{
    "$schema": "https://railway.app/railway.schema.json",
    "services": [
        {
            "name": "meme-aggregator-server",
            "rootPath": "backend",
            "buildCommand": "npm install --prefix backend && npm run build --prefix backend",
            "startCommand": "npm run start --prefix backend",
            "public": true
        },
        {
            "name": "bullmq-worker",
            "rootPath": "backend",
            "buildCommand": "echo 'Build already handled by server service'",
            "startCommand": "npm run worker --prefix backend"
        }
    ],
    "environments": {
        "production": {
            "isDefault": true
        }
    }
}